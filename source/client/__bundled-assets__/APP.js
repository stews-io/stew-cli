var __moduleIifeResult=(()=>{var R,f,te,Ve,V,ne,_e,Q,De,D={},oe=[],Ce=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,q=Array.isArray;function I(t,e){for(var n in e)t[n]=e[n];return t}function ie(t){var e=t.parentNode;e&&e.removeChild(t)}function re(t,e,n){var i,r,_,l={};for(_ in e)_=="key"?i=e[_]:_=="ref"?r=e[_]:l[_]=e[_];if(arguments.length>2&&(l.children=arguments.length>3?R.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(_ in t.defaultProps)l[_]===void 0&&(l[_]=t.defaultProps[_]);return U(t,l,i,r,null)}function U(t,e,n,i,r){var _={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:r??++te};return r==null&&f.vnode!=null&&f.vnode(_),_}function M(t){return t.children}function L(t,e){this.props=t,this.context=e}function O(t,e){if(e==null)return t.__?O(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?O(t):null}function se(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return se(t)}}function le(t){(!t.__d&&(t.__d=!0)&&V.push(t)&&!N.__r++||ne!==f.debounceRendering)&&((ne=f.debounceRendering)||_e)(N)}function N(){var t,e,n,i,r,_,l,c,a;for(V.sort(Q);t=V.shift();)t.__d&&(e=V.length,i=void 0,r=void 0,_=void 0,c=(l=(n=t).__v).__e,(a=n.__P)&&(i=[],r=[],(_=I({},l)).__v=l.__v+1,z(a,l,_,n.__n,a.ownerSVGElement!==void 0,l.__h!=null?[c]:null,i,c??O(l),l.__h,r),he(i,l,r),l.__e!=c&&se(l)),V.length>e&&V.sort(Q));N.__r=0}function ae(t,e,n,i,r,_,l,c,a,v,s){var o,d,p,u,m,b,g,w,K,x=0,S=i&&i.__k||oe,T=S.length,k=T,C=e.length;for(n.__k=[],o=0;o<C;o++)(u=n.__k[o]=(u=e[o])==null||typeof u=="boolean"||typeof u=="function"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?U(null,u,null,null,u):q(u)?U(M,{children:u},null,null,null):u.__b>0?U(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null?(u.__=n,u.__b=n.__b+1,(w=Me(u,S,g=o+x,k))===-1?p=D:(p=S[w]||D,S[w]=void 0,k--),z(t,u,p,r,_,l,c,a,v,s),m=u.__e,(d=u.ref)&&p.ref!=d&&(p.ref&&G(p.ref,null,u),s.push(d,u.__c||m,u)),m!=null&&(b==null&&(b=m),(K=p===D||p.__v===null)?w==-1&&x--:w!==g&&(w===g+1?x++:w>g?k>C-g?x+=w-g:x--:x=w<g&&w==g-1?w-g:0),g=o+x,typeof u.type!="function"||w===g&&p.__k!==u.__k?typeof u.type=="function"||w===g&&!K?u.__d!==void 0?(a=u.__d,u.__d=void 0):a=m.nextSibling:a=ce(t,m,a):a=ue(u,a,t),typeof n.type=="function"&&(n.__d=a))):(p=S[o])&&p.key==null&&p.__e&&(p.__e==a&&(a=O(p)),Y(p,p,!1),S[o]=null);for(n.__e=b,o=T;o--;)S[o]!=null&&(typeof n.type=="function"&&S[o].__e!=null&&S[o].__e==n.__d&&(n.__d=S[o].__e.nextSibling),Y(S[o],S[o]))}function ue(t,e,n){for(var i,r=t.__k,_=0;r&&_<r.length;_++)(i=r[_])&&(i.__=t,e=typeof i.type=="function"?ue(i,e,n):ce(n,i.__e,e));return e}function ce(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function Me(t,e,n,i){var r=t.key,_=t.type,l=n-1,c=n+1,a=e[n];if(a===null||a&&r==a.key&&_===a.type)return n;if(i>(a!=null?1:0))for(;l>=0||c<e.length;){if(l>=0){if((a=e[l])&&r==a.key&&_===a.type)return l;l--}if(c<e.length){if((a=e[c])&&r==a.key&&_===a.type)return c;c++}}return-1}function Oe(t,e,n,i,r){var _;for(_ in n)_==="children"||_==="key"||_ in e||W(t,_,null,n[_],i);for(_ in e)r&&typeof e[_]!="function"||_==="children"||_==="key"||_==="value"||_==="checked"||n[_]===e[_]||W(t,_,e[_],n[_],i)}function pe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||Ce.test(e)?n:n+"px"}function W(t,e,n,i,r){var _;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||pe(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||pe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")_=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+_]=n,n?i||t.addEventListener(e,_?de:fe,_):t.removeEventListener(e,_?de:fe,_);else if(e!=="dangerouslySetInnerHTML"){if(r)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function fe(t){return this.l[t.type+!1](f.event?f.event(t):t)}function de(t){return this.l[t.type+!0](f.event?f.event(t):t)}function z(t,e,n,i,r,_,l,c,a,v){var s,o,d,p,u,m,b,g,w,K,x,S,T,k,C,P=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,c=e.__e=n.__e,e.__h=null,_=[c]),(s=f.__b)&&s(e);e:if(typeof P=="function")try{if(g=e.props,w=(s=P.contextType)&&i[s.__c],K=s?w?w.props.value:s.__:i,n.__c?b=(o=e.__c=n.__c).__=o.__E:("prototype"in P&&P.prototype.render?e.__c=o=new P(g,K):(e.__c=o=new L(g,K),o.constructor=P,o.render=$e),w&&w.sub(o),o.props=g,o.state||(o.state={}),o.context=K,o.__n=i,d=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),P.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=I({},o.__s)),I(o.__s,P.getDerivedStateFromProps(g,o.__s))),p=o.props,u=o.state,o.__v=e,d)P.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(P.getDerivedStateFromProps==null&&g!==p&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(g,K),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(g,o.__s,K)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(o.props=g,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(B){B&&(B.__=e)}),x=0;x<o._sb.length;x++)o.__h.push(o._sb[x]);o._sb=[],o.__h.length&&l.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(g,o.__s,K),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(p,u,m)})}if(o.context=K,o.props=g,o.__P=t,o.__e=!1,S=f.__r,T=0,"prototype"in P&&P.prototype.render){for(o.state=o.__s,o.__d=!1,S&&S(e),s=o.render(o.props,o.state,o.context),k=0;k<o._sb.length;k++)o.__h.push(o._sb[k]);o._sb=[]}else do o.__d=!1,S&&S(e),s=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++T<25);o.state=o.__s,o.getChildContext!=null&&(i=I(I({},i),o.getChildContext())),d||o.getSnapshotBeforeUpdate==null||(m=o.getSnapshotBeforeUpdate(p,u)),ae(t,q(C=s!=null&&s.type===M&&s.key==null?s.props.children:s)?C:[C],e,n,i,r,_,l,c,a,v),o.base=e.__e,e.__h=null,o.__h.length&&l.push(o),b&&(o.__E=o.__=null)}catch(B){e.__v=null,(a||_!=null)&&(e.__e=c,e.__h=!!a,_[_.indexOf(c)]=null),f.__e(B,e,n)}else _==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ee(n.__e,e,n,i,r,_,l,a,v);(s=f.diffed)&&s(e)}function he(t,e,n){for(var i=0;i<n.length;i++)G(n[i],n[++i],n[++i]);f.__c&&f.__c(e,t),t.some(function(r){try{t=r.__h,r.__h=[],t.some(function(_){_.call(r)})}catch(_){f.__e(_,r.__v)}})}function Ee(t,e,n,i,r,_,l,c,a){var v,s,o,d=n.props,p=e.props,u=e.type,m=0;if(u==="svg"&&(r=!0),_!=null){for(;m<_.length;m++)if((v=_[m])&&"setAttribute"in v==!!u&&(u?v.localName===u:v.nodeType===3)){t=v,_[m]=null;break}}if(t==null){if(u===null)return document.createTextNode(p);t=r?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u,p.is&&p),_=null,c=!1}if(u===null)d===p||c&&t.data===p||(t.data=p);else{if(_=_&&R.call(t.childNodes),s=(d=n.props||D).dangerouslySetInnerHTML,o=p.dangerouslySetInnerHTML,!c){if(_!=null)for(d={},m=0;m<t.attributes.length;m++)d[t.attributes[m].name]=t.attributes[m].value;(o||s)&&(o&&(s&&o.__html==s.__html||o.__html===t.innerHTML)||(t.innerHTML=o&&o.__html||""))}if(Oe(t,p,d,r,c),o)e.__k=[];else if(ae(t,q(m=e.props.children)?m:[m],e,n,i,r&&u!=="foreignObject",_,l,_?_[0]:n.__k&&O(n,0),c,a),_!=null)for(m=_.length;m--;)_[m]!=null&&ie(_[m]);c||("value"in p&&(m=p.value)!==void 0&&(m!==t.value||u==="progress"&&!m||u==="option"&&m!==d.value)&&W(t,"value",m,d.value,!1),"checked"in p&&(m=p.checked)!==void 0&&m!==t.checked&&W(t,"checked",m,d.checked,!1))}return t}function G(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){f.__e(i,n)}}function Y(t,e,n){var i,r;if(f.unmount&&f.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||G(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(_){f.__e(_,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(r=0;r<i.length;r++)i[r]&&Y(i[r],e,n||typeof t.type!="function");n||t.__e==null||ie(t.__e),t.__=t.__e=t.__d=void 0}function $e(t,e,n){return this.constructor(t,n)}function He(t,e,n){var i,r,_,l;f.__&&f.__(t,e),r=(i=typeof n=="function")?null:n&&n.__k||e.__k,_=[],l=[],z(e,t=(!i&&n||e).__k=re(M,null,[t]),r||D,D,e.ownerSVGElement!==void 0,!i&&n?[n]:r?null:e.firstChild?R.call(e.childNodes):null,_,!i&&n?n:r?r.__e:e.firstChild,i,l),he(_,t,l)}R=oe.slice,f={__e:function(t,e,n,i){for(var r,_,l;e=e.__;)if((r=e.__c)&&!r.__)try{if((_=r.constructor)&&_.getDerivedStateFromError!=null&&(r.setState(_.getDerivedStateFromError(t)),l=r.__d),r.componentDidCatch!=null&&(r.componentDidCatch(t,i||{}),l=r.__d),l)return r.__E=r}catch(c){t=c}throw t}},te=0,Ve=function(t){return t!=null&&t.constructor===void 0},L.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=I({},this.state),typeof t=="function"&&(t=t(I({},n),this.props)),t&&I(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),le(this))},L.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),le(this))},L.prototype.render=M,V=[],_e=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Q=function(t,e){return t.__v.__b-e.__v.__b},N.__r=0,De=0;function E(t){throw new Error(`invalid path: ${t}`)}function Te(t){const{stewBuildId:e}=t,n=`/stew_${e}`;return{stewResourcesDirectoryPath:n,indexHtml:"/index.html",appScript:`/app.${e}.js`,appCss:`/app.${e}.css`,configPath:`${n}/stew.config.json`,modulesDirectoryPath:`${n}/modules`,datasetsDirectoryPath:`${n}/datasets`,stylesDirectoryPath:`${n}/styles`,viewsDirectoryPath:`${n}/views`}}var $,y,J,me,j=0,ge=[],A=[],ve=f.__b,ye=f.__r,we=f.diffed,Se=f.__c,xe=f.unmount;function X(t,e){f.__h&&f.__h(y,t,j||e),j=0;var n=y.__H||(y.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:A}),n.__[t]}function Re(t){return j=1,Ue(Ie,t)}function Ue(t,e,n){var i=X($++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):Ie(void 0,e),function(c){var a=i.__N?i.__N[0]:i.__[0],v=i.t(a,c);a!==v&&(i.__N=[v,i.__[1]],i.__c.setState({}))}],i.__c=y,!y.u)){var r=function(c,a,v){if(!i.__c.__H)return!0;var s=i.__c.__H.__.filter(function(d){return d.__c});if(s.every(function(d){return!d.__N}))return!_||_.call(this,c,a,v);var o=!1;return s.forEach(function(d){if(d.__N){var p=d.__[0];d.__=d.__N,d.__N=void 0,p!==d.__[0]&&(o=!0)}}),!(!o&&i.__c.props===c)&&(!_||_.call(this,c,a,v))};y.u=!0;var _=y.shouldComponentUpdate,l=y.componentWillUpdate;y.componentWillUpdate=function(c,a,v){if(this.__e){var s=_;_=void 0,r(c,a,v),_=s}l&&l.call(this,c,a,v)},y.shouldComponentUpdate=r}return i.__N||i.__}function Pe(t,e){var n=X($++,3);!f.__s&&be(n.__H,e)&&(n.__=t,n.i=e,y.__H.__h.push(n))}function Le(t){return j=5,Z(function(){return{current:t}},[])}function Z(t,e){var n=X($++,7);return be(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Ne(){for(var t;t=ge.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(F),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],f.__e(e,t.__v)}}f.__b=function(t){y=null,ve&&ve(t)},f.__r=function(t){ye&&ye(t),$=0;var e=(y=t.__c).__H;e&&(J===y?(e.__h=[],y.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=A,n.__N=n.i=void 0})):(e.__h.forEach(F),e.__h.forEach(ee),e.__h=[],$=0)),J=y},f.diffed=function(t){we&&we(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(ge.push(e)!==1&&me===f.requestAnimationFrame||((me=f.requestAnimationFrame)||We)(Ne)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==A&&(n.__=n.__V),n.i=void 0,n.__V=A})),J=y=null},f.__c=function(t,e){e.some(function(n){try{n.__h.forEach(F),n.__h=n.__h.filter(function(i){return!i.__||ee(i)})}catch(i){e.some(function(r){r.__h&&(r.__h=[])}),e=[],f.__e(i,n.__v)}}),Se&&Se(t,e)},f.unmount=function(t){xe&&xe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{F(i)}catch(r){e=r}}),n.__H=void 0,e&&f.__e(e,n.__v))};var Ke=typeof requestAnimationFrame=="function";function We(t){var e,n=function(){clearTimeout(i),Ke&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);Ke&&(e=requestAnimationFrame(n))}function F(t){var e=y,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),y=e}function ee(t){var e=y;t.__c=t.__(),y=e}function be(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function Ie(t,e){return typeof e=="function"?e(t):e}function ke(t){const{stewResourceMap:e,someSegmentKey:n}=t;return Promise.all([fetch(`${e.datasetsDirectoryPath}/${n}.json`).then(i=>i.json()),fetch(`${e.modulesDirectoryPath}/${n}.js`).then(i=>i.text()).then(i=>new Function(`${i}return __moduleIifeResult.default`)()),fetch(`${e.viewsDirectoryPath}/${n}.json`).then(i=>i.json()),fetch(`${e.stylesDirectoryPath}/${n}.css`).then(i=>i.text())])}function H(t){const{someMap:e,itemSearchKey:n,itemTargetValue:i}=t;return Object.values(e).find(r=>r[n]===i)}function je(t){const{initialStewState:e,stewConfig:n,stewResourceMap:i}=t,r=Le(0),[_,l]=Re(e);Pe(()=>{const s=new URLSearchParams;s.set("sort",`${_.segmentSortOptionKey}`),_.viewSearchQuery.length>0&&s.set("search",_.viewSearchQuery),window.history.replaceState(null,"noop",`/${_.segmentKey}/${_.segmentViewKey}?${s.toString()}`)},[_.segmentKey,_.segmentViewKey,_.segmentSortOptionKey,_.viewSearchQuery]),Pe(()=>{_.segmentStatus==="loadingSegment"&&Ae({stewResourceMap:i,stewState:_,setStewState:l})},[_.segmentKey]);const{searchedAndSortedViewItems:c}=Z(()=>{const s=_.viewSearchQuery;return{searchedAndSortedViewItems:_.segmentStatus==="segmentLoaded"?_.segmentViewsMap[_.segmentViewKey].reduce((o,d)=>{const p=_.segmentDataset[d];return p.__segment_item_search_space.includes(s)&&o.push(p),o},[]).sort(_.segmentModule.segmentSortOptions[n.stewSegments[_.segmentKey].segmentSortOptions[_.segmentSortOptionKey].sortOptionIndex].getSortOrder):[]}},[_.segmentKey,_.segmentStatus,_.segmentViewKey,_.viewSearchQuery,_.segmentSortOptionKey]),{viewPageCount:a,viewPageItems:v}=Z(()=>{const o=Math.ceil(c.length/6)||1,d=6*_.viewPageIndex,p=c.slice(d,d+6);return{viewPageCount:o,viewPageItems:p}},[c,_.viewPageIndex]);return h("div",null,h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(n.stewSegments).sort((s,o)=>s.segmentIndex-o.segmentIndex).map(s=>h("div",{style:{padding:8,color:"purple",cursor:"pointer",fontWeight:700,textDecoration:_.segmentKey===s.segmentKey?"underline":"none"},onClick:()=>{_.segmentKey!==s.segmentKey&&(l({segmentStatus:"loadingSegment",viewPageIndex:0,viewSearchQuery:"",segmentKey:s.segmentKey,segmentViewKey:H({itemTargetValue:0,itemSearchKey:"viewIndex",someMap:n.stewSegments[s.segmentKey].segmentViews}).viewKey,segmentSortOptionKey:H({itemTargetValue:0,itemSearchKey:"sortOptionIndex",someMap:n.stewSegments[s.segmentKey].segmentSortOptions}).sortOptionKey}),r.current+=1,console.log(r.current))}},s.segmentLabel))),h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(n.stewSegments[_.segmentKey].segmentViews).sort((s,o)=>s.viewIndex-o.viewIndex).map(s=>h("div",{style:{padding:8,color:"blue",cursor:"pointer",fontWeight:700,textDecoration:_.segmentViewKey===s.viewKey?"underline":"none"},onClick:()=>{_.segmentViewKey!==s.viewKey&&l(o=>({...o,viewPageIndex:0,segmentViewKey:s.viewKey}))}},s.viewLabel))),h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(n.stewSegments[_.segmentKey].segmentSortOptions).sort((s,o)=>s.sortOptionIndex-o.sortOptionIndex).map(s=>h("div",{style:{padding:8,color:"green",cursor:"pointer",fontWeight:700,textDecoration:_.segmentSortOptionKey===s.sortOptionKey?"underline":"none"},onClick:()=>{_.segmentSortOptionKey!==s.sortOptionKey&&l(o=>({...o,viewPageIndex:0,segmentSortOptionKey:s.sortOptionKey}))}},s.sortOptionLabel))),h("div",{style:{padding:8}},h("input",{value:_.viewSearchQuery,onInput:s=>{const o=s.currentTarget.value;l(d=>({...d,viewPageIndex:0,viewSearchQuery:o}))}})),h("div",{style:{display:"flex",flexDirection:"row"}},h("div",{style:{padding:8,color:"orange",cursor:"pointer",fontWeight:700},onClick:()=>{_.viewPageIndex>0&&l(s=>({...s,viewPageIndex:s.viewPageIndex-1}))}},"prev"),h("div",{style:{padding:8,color:"orange",cursor:"pointer",fontWeight:700},onClick:()=>{_.viewPageIndex<a-1&&l(s=>({...s,viewPageIndex:s.viewPageIndex+1}))}},"next"),h("div",{style:{padding:8,color:"black",cursor:"pointer",fontWeight:700,fontStyle:"italic"}},`${_.viewPageIndex+1} / ${a}`)),_.segmentStatus==="segmentLoaded"?h(M,null,h("div",{style:{display:"flex",flexDirection:"column",padding:8,paddingTop:12}},v.map(s=>h("div",{style:{paddingBottom:8}},h(_.segmentModule.SegmentItemDisplay,{someSegmentItem:s})))),h("style",null,_.segmentCss)):null)}async function Ae(t){const{stewResourceMap:e,stewState:n,setStewState:i}=t,[r,_,l,c]=await ke({stewResourceMap:e,someSegmentKey:n.segmentKey});i({...n,segmentStatus:"segmentLoaded",segmentDataset:r,segmentModule:_,segmentViewsMap:l,segmentCss:c})}window.h=re,Fe();async function Fe(){const{stewConfig:t,stewResourceMap:e,initialStewState:n}=await Be();He(h(je,{stewConfig:t,stewResourceMap:e,initialStewState:n}),document.getElementById("appContainer")??E("hydrate.appContainer")),document.getElementById("splashPageStyle")?.remove(),console.info(t)}async function Be(){const t=new Promise(b=>{setTimeout(()=>{b()},700)}),e=document.getElementById("appScript")?.dataset.stew_build_id??E("loadStewResources.stewBuildId"),n=Te({stewBuildId:e}),i=await fetch(n.configPath).then(b=>b.json()),[r,_,l]=window.location.pathname.split("/"),c=new URLSearchParams(window.location.search),a=i.stewSegments[_]??H({itemTargetValue:0,itemSearchKey:"segmentIndex",someMap:i.stewSegments})??E("initialSegmentConfig"),v=ke({stewResourceMap:n,someSegmentKey:a.segmentKey}),s=a.segmentViews[l]??H({itemTargetValue:0,itemSearchKey:"viewIndex",someMap:a.segmentViews})??E("initialSegmentViewConfig"),o=a.segmentSortOptions[c.get("sort")??"__EMPTY_SORT_KEY__"]??H({itemTargetValue:0,itemSearchKey:"sortOptionIndex",someMap:a.segmentSortOptions})??E("initialSegmentSortOptionConfig"),[[d,p,u,m]]=await Promise.all([v,t]);return{stewResourceMap:n,stewConfig:i,initialStewState:{viewPageIndex:0,segmentStatus:"segmentLoaded",segmentDataset:d,segmentModule:p,segmentViewsMap:u,segmentCss:m,segmentKey:a.segmentKey,segmentViewKey:s.viewKey,segmentSortOptionKey:o.sortOptionKey,viewSearchQuery:c.get("search")??""}}}})();
