var __moduleIifeResult=(()=>{var R,c,X,Pe,D,Y,Z,B,Ce,E={},ee=[],xe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;function C(t,e){for(var n in e)t[n]=e[n];return t}function te(t){var e=t.parentNode;e&&e.removeChild(t)}function ne(t,e,n){var o,i,r,u={};for(r in e)r=="key"?o=e[r]:r=="ref"?i=e[r]:u[r]=e[r];if(arguments.length>2&&(u.children=arguments.length>3?R.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)u[r]===void 0&&(u[r]=t.defaultProps[r]);return U(t,u,o,i,null)}function U(t,e,n,o,i){var r={type:t,props:e,key:n,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++X};return i==null&&c.vnode!=null&&c.vnode(r),r}function M(t){return t.children}function I(t,e){this.props=t,this.context=e}function $(t,e){if(e==null)return t.__?$(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?$(t):null}function _e(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return _e(t)}}function oe(t){(!t.__d&&(t.__d=!0)&&D.push(t)&&!T.__r++||Y!==c.debounceRendering)&&((Y=c.debounceRendering)||Z)(T)}function T(){var t,e,n,o,i,r,u,f,s;for(D.sort(B);t=D.shift();)t.__d&&(e=D.length,o=void 0,i=void 0,r=void 0,f=(u=(n=t).__v).__e,(s=n.__P)&&(o=[],i=[],(r=C({},u)).__v=u.__v+1,O(s,u,r,n.__n,s.ownerSVGElement!==void 0,u.__h!=null?[f]:null,o,f??$(u),u.__h,i),ce(o,u,i),u.__e!=f&&_e(u)),D.length>e&&D.sort(B));T.__r=0}function re(t,e,n,o,i,r,u,f,s,y,d){var _,m,p,l,a,H,v,S,P,b=0,w=o&&o.__k||ee,N=w.length,x=N,K=e.length;for(n.__k=[],_=0;_<K;_++)(l=n.__k[_]=(l=e[_])==null||typeof l=="boolean"||typeof l=="function"?null:typeof l=="string"||typeof l=="number"||typeof l=="bigint"?U(null,l,null,null,l):j(l)?U(M,{children:l},null,null,null):l.__b>0?U(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l)!=null?(l.__=n,l.__b=n.__b+1,(S=De(l,w,v=_+b,x))===-1?p=E:(p=w[S]||E,w[S]=void 0,x--),O(t,l,p,i,r,u,f,s,y,d),a=l.__e,(m=l.ref)&&p.ref!=m&&(p.ref&&q(p.ref,null,l),d.push(m,l.__c||a,l)),a!=null&&(H==null&&(H=a),(P=p===E||p.__v===null)?S==-1&&b--:S!==v&&(S===v+1?b++:S>v?x>K-v?b+=S-v:b--:b=S<v&&S==v-1?S-v:0),v=_+b,typeof l.type!="function"||S===v&&p.__k!==l.__k?typeof l.type=="function"||S===v&&!P?l.__d!==void 0?(s=l.__d,l.__d=void 0):s=a.nextSibling:s=le(t,a,s):s=ie(l,s,t),typeof n.type=="function"&&(n.__d=s))):(p=w[_])&&p.key==null&&p.__e&&(p.__e==s&&(s=$(p)),G(p,p,!1),w[_]=null);for(n.__e=H,_=N;_--;)w[_]!=null&&(typeof n.type=="function"&&w[_].__e!=null&&w[_].__e==n.__d&&(n.__d=w[_].__e.nextSibling),G(w[_],w[_]))}function ie(t,e,n){for(var o,i=t.__k,r=0;i&&r<i.length;r++)(o=i[r])&&(o.__=t,e=typeof o.type=="function"?ie(o,e,n):le(n,o.__e,e));return e}function le(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function De(t,e,n,o){var i=t.key,r=t.type,u=n-1,f=n+1,s=e[n];if(s===null||s&&i==s.key&&r===s.type)return n;if(o>(s!=null?1:0))for(;u>=0||f<e.length;){if(u>=0){if((s=e[u])&&i==s.key&&r===s.type)return u;u--}if(f<e.length){if((s=e[f])&&i==s.key&&r===s.type)return f;f++}}return-1}function Ee(t,e,n,o,i){var r;for(r in n)r==="children"||r==="key"||r in e||A(t,r,null,n[r],o);for(r in e)i&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||A(t,r,e[r],n[r],o)}function se(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||xe.test(e)?n:n+"px"}function A(t,e,n,o,i){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)n&&e in n||se(t.style,e,"");if(n)for(e in n)o&&n[e]===o[e]||se(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?o||t.addEventListener(e,r?ae:ue,r):t.removeEventListener(e,r?ae:ue,r);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function ue(t){return this.l[t.type+!1](c.event?c.event(t):t)}function ae(t){return this.l[t.type+!0](c.event?c.event(t):t)}function O(t,e,n,o,i,r,u,f,s,y){var d,_,m,p,l,a,H,v,S,P,b,w,N,x,K,k=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(s=n.__h,f=e.__e=n.__e,e.__h=null,r=[f]),(d=c.__b)&&d(e);e:if(typeof k=="function")try{if(v=e.props,S=(d=k.contextType)&&o[d.__c],P=d?S?S.props.value:d.__:o,n.__c?H=(_=e.__c=n.__c).__=_.__E:("prototype"in k&&k.prototype.render?e.__c=_=new k(v,P):(e.__c=_=new I(v,P),_.constructor=k,_.render=Ke),S&&S.sub(_),_.props=v,_.state||(_.state={}),_.context=P,_.__n=o,m=_.__d=!0,_.__h=[],_._sb=[]),_.__s==null&&(_.__s=_.state),k.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=C({},_.__s)),C(_.__s,k.getDerivedStateFromProps(v,_.__s))),p=_.props,l=_.state,_.__v=e,m)k.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(k.getDerivedStateFromProps==null&&v!==p&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(v,P),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(v,_.__s,P)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(_.props=v,_.state=_.__s,_.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(W){W&&(W.__=e)}),b=0;b<_._sb.length;b++)_.__h.push(_._sb[b]);_._sb=[],_.__h.length&&u.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(v,_.__s,P),_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(p,l,a)})}if(_.context=P,_.props=v,_.__P=t,_.__e=!1,w=c.__r,N=0,"prototype"in k&&k.prototype.render){for(_.state=_.__s,_.__d=!1,w&&w(e),d=_.render(_.props,_.state,_.context),x=0;x<_._sb.length;x++)_.__h.push(_._sb[x]);_._sb=[]}else do _.__d=!1,w&&w(e),d=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++N<25);_.state=_.__s,_.getChildContext!=null&&(o=C(C({},o),_.getChildContext())),m||_.getSnapshotBeforeUpdate==null||(a=_.getSnapshotBeforeUpdate(p,l)),re(t,j(K=d!=null&&d.type===M&&d.key==null?d.props.children:d)?K:[K],e,n,o,i,r,u,f,s,y),_.base=e.__e,e.__h=null,_.__h.length&&u.push(_),H&&(_.__E=_.__=null)}catch(W){e.__v=null,(s||r!=null)&&(e.__e=f,e.__h=!!s,r[r.indexOf(f)]=null),c.__e(W,e,n)}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=He(n.__e,e,n,o,i,r,u,s,y);(d=c.diffed)&&d(e)}function ce(t,e,n){for(var o=0;o<n.length;o++)q(n[o],n[++o],n[++o]);c.__c&&c.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(r){r.call(i)})}catch(r){c.__e(r,i.__v)}})}function He(t,e,n,o,i,r,u,f,s){var y,d,_,m=n.props,p=e.props,l=e.type,a=0;if(l==="svg"&&(i=!0),r!=null){for(;a<r.length;a++)if((y=r[a])&&"setAttribute"in y==!!l&&(l?y.localName===l:y.nodeType===3)){t=y,r[a]=null;break}}if(t==null){if(l===null)return document.createTextNode(p);t=i?document.createElementNS("http://www.w3.org/2000/svg",l):document.createElement(l,p.is&&p),r=null,f=!1}if(l===null)m===p||f&&t.data===p||(t.data=p);else{if(r=r&&R.call(t.childNodes),d=(m=n.props||E).dangerouslySetInnerHTML,_=p.dangerouslySetInnerHTML,!f){if(r!=null)for(m={},a=0;a<t.attributes.length;a++)m[t.attributes[a].name]=t.attributes[a].value;(_||d)&&(_&&(d&&_.__html==d.__html||_.__html===t.innerHTML)||(t.innerHTML=_&&_.__html||""))}if(Ee(t,p,m,i,f),_)e.__k=[];else if(re(t,j(a=e.props.children)?a:[a],e,n,o,i&&l!=="foreignObject",r,u,r?r[0]:n.__k&&$(n,0),f,s),r!=null)for(a=r.length;a--;)r[a]!=null&&te(r[a]);f||("value"in p&&(a=p.value)!==void 0&&(a!==t.value||l==="progress"&&!a||l==="option"&&a!==m.value)&&A(t,"value",a,m.value,!1),"checked"in p&&(a=p.checked)!==void 0&&a!==t.checked&&A(t,"checked",a,m.checked,!1))}return t}function q(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(o){c.__e(o,n)}}function G(t,e,n){var o,i;if(c.unmount&&c.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||q(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){c.__e(r,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(i=0;i<o.length;i++)o[i]&&G(o[i],e,n||typeof t.type!="function");n||t.__e==null||te(t.__e),t.__=t.__e=t.__d=void 0}function Ke(t,e,n){return this.constructor(t,n)}function Me(t,e,n){var o,i,r,u;c.__&&c.__(t,e),i=(o=typeof n=="function")?null:n&&n.__k||e.__k,r=[],u=[],O(e,t=(!o&&n||e).__k=ne(M,null,[t]),i||E,E,e.ownerSVGElement!==void 0,!o&&n?[n]:i?null:e.firstChild?R.call(e.childNodes):null,r,!o&&n?n:i?i.__e:e.firstChild,o,u),ce(r,t,u)}R=ee.slice,c={__e:function(t,e,n,o){for(var i,r,u;e=e.__;)if((i=e.__c)&&!i.__)try{if((r=i.constructor)&&r.getDerivedStateFromError!=null&&(i.setState(r.getDerivedStateFromError(t)),u=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,o||{}),u=i.__d),u)return i.__E=i}catch(f){t=f}throw t}},X=0,Pe=function(t){return t!=null&&t.constructor===void 0},I.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof t=="function"&&(t=t(C({},n),this.props)),t&&C(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},I.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},I.prototype.render=M,D=[],Z=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,B=function(t,e){return t.__v.__b-e.__v.__b},T.__r=0,Ce=0;function fe(t){throw new Error(`invalid path: ${t}`)}function $e(t){const{stewBuildId:e}=t,n=`/stew_${e}`;return{stewResourcesDirectoryPath:n,indexHtml:"/index.html",appScript:`/app.${e}.js`,appCss:`/app.${e}.css`,configPath:`${n}/stew.config.json`,modulesDirectoryPath:`${n}/modules`,datasetsDirectoryPath:`${n}/datasets`,stylesDirectoryPath:`${n}/styles`}}var F,g,z,pe,Q=0,de=[],L=[],he=c.__b,me=c.__r,ve=c.diffed,ge=c.__c,ye=c.unmount;function Se(t,e){c.__h&&c.__h(g,t,Q||e),Q=0;var n=g.__H||(g.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:L}),n.__[t]}function Ne(t){return Q=1,Re(be,t)}function Re(t,e,n){var o=Se(F++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):be(void 0,e),function(f){var s=o.__N?o.__N[0]:o.__[0],y=o.t(s,f);s!==y&&(o.__N=[y,o.__[1]],o.__c.setState({}))}],o.__c=g,!g.u)){var i=function(f,s,y){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(m){return m.__c});if(d.every(function(m){return!m.__N}))return!r||r.call(this,f,s,y);var _=!1;return d.forEach(function(m){if(m.__N){var p=m.__[0];m.__=m.__N,m.__N=void 0,p!==m.__[0]&&(_=!0)}}),!(!_&&o.__c.props===f)&&(!r||r.call(this,f,s,y))};g.u=!0;var r=g.shouldComponentUpdate,u=g.componentWillUpdate;g.componentWillUpdate=function(f,s,y){if(this.__e){var d=r;r=void 0,i(f,s,y),r=d}u&&u.call(this,f,s,y)},g.shouldComponentUpdate=i}return o.__N||o.__}function Ue(t,e){var n=Se(F++,3);!c.__s&&Ae(n.__H,e)&&(n.__=t,n.i=e,g.__H.__h.push(n))}function Ie(){for(var t;t=de.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(V),t.__H.__h.forEach(J),t.__H.__h=[]}catch(e){t.__H.__h=[],c.__e(e,t.__v)}}c.__b=function(t){g=null,he&&he(t)},c.__r=function(t){me&&me(t),F=0;var e=(g=t.__c).__H;e&&(z===g?(e.__h=[],g.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=L,n.__N=n.i=void 0})):(e.__h.forEach(V),e.__h.forEach(J),e.__h=[],F=0)),z=g},c.diffed=function(t){ve&&ve(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(de.push(e)!==1&&pe===c.requestAnimationFrame||((pe=c.requestAnimationFrame)||Te)(Ie)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==L&&(n.__=n.__V),n.i=void 0,n.__V=L})),z=g=null},c.__c=function(t,e){e.some(function(n){try{n.__h.forEach(V),n.__h=n.__h.filter(function(o){return!o.__||J(o)})}catch(o){e.some(function(i){i.__h&&(i.__h=[])}),e=[],c.__e(o,n.__v)}}),ge&&ge(t,e)},c.unmount=function(t){ye&&ye(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{V(o)}catch(i){e=i}}),n.__H=void 0,e&&c.__e(e,n.__v))};var we=typeof requestAnimationFrame=="function";function Te(t){var e,n=function(){clearTimeout(o),we&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,100);we&&(e=requestAnimationFrame(n))}function V(t){var e=g,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),g=e}function J(t){var e=g;t.__c=t.__(),g=e}function Ae(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function be(t,e){return typeof e=="function"?e(t):e}function ke(t){const{stewResourceMap:e,someSegmentKey:n}=t;return Promise.all([fetch(`${e.datasetsDirectoryPath}/${n}.json`).then(o=>o.json()),fetch(`${e.modulesDirectoryPath}/${n}.js`).then(o=>o.text()).then(o=>new Function(`${o}return __moduleIifeResult.default`)()),fetch(`${e.stylesDirectoryPath}/${n}.css`).then(o=>o.text())])}function Fe(t){const{initialStewState:e,stewConfig:n,stewResourceMap:o}=t,[i,r]=Ne(e);return Ue(()=>{i.segmentStatus==="loadingSegment"&&Le({stewResourceMap:o,stewState:i,setStewState:r})},[i.segmentKey]),h("div",null,h("div",{style:{display:"flex",flexDirection:"row"}},n.stewSegments.map(u=>h("div",{style:{padding:8,color:"purple",cursor:"pointer",fontWeight:700},onClick:()=>{r({...i,segmentStatus:"loadingSegment",segmentKey:u.segmentKey})}},u.segmentKey))),h("div",{style:{padding:8,fontWeight:300}},i.segmentKey),i.segmentStatus==="segmentLoaded"?h(M,null,h(i.segmentModule.SegmentItemDisplay,{someSegmentItem:i.segmentDataset[0]}),h("style",null,i.segmentCss)):null)}async function Le(t){const{stewResourceMap:e,stewState:n,setStewState:o}=t,[i,r,u]=await ke({stewResourceMap:e,someSegmentKey:n.segmentKey});o({...n,segmentStatus:"segmentLoaded",segmentDataset:i,segmentModule:r,segmentCss:u})}window.h=ne,Ve();async function Ve(){const{stewConfig:t,stewResourceMap:e,initialStewState:n}=await We();Me(h(Fe,{stewConfig:t,stewResourceMap:e,initialStewState:n}),document.getElementById("appContainer")??fe("hydrate.appContainer")),document.getElementById("splashPageStyle")?.remove(),console.info(t)}async function We(){const t=new Promise(a=>{setTimeout(()=>{a()},700)}),e=document.getElementById("appScript")?.dataset.stew_build_id??fe("loadStewResources.stewBuildId"),n=$e({stewBuildId:e}),o=await fetch(n.configPath).then(a=>a.json()),[i,r,u]=window.location.pathname.split("/"),f=new URLSearchParams(window.location.search),s=o.stewSegments.find(a=>a.segmentKey===r)??o.stewSegments[0],y=ke({stewResourceMap:n,someSegmentKey:s.segmentKey}),d=s.segmentViews.find(a=>a.viewKey===u)??s.segmentViews[0],_=s.segmentSortOptions.find(a=>a.sortOptionKey===f.get("sort"))??s.segmentSortOptions[0],[[m,p,l]]=await Promise.all([y,t]);return{stewResourceMap:n,stewConfig:o,initialStewState:{viewPageIndex:0,segmentStatus:"segmentLoaded",segmentDataset:m,segmentModule:p,segmentCss:l,segmentKey:s.segmentKey,segmentViewKey:d.viewKey,segmentSortKey:_.sortOptionKey,viewSearchQuery:f.get("search")??""}}}})();
