var __moduleIifeResult=(()=>{var R,c,te,Ce,K,ne,oe,q,ke,k={},ie=[],De=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Y=Array.isArray;function b(t,e){for(var n in e)t[n]=e[n];return t}function re(t){var e=t.parentNode;e&&e.removeChild(t)}function _e(t,e,n){var i,_,r,s={};for(r in e)r=="key"?i=e[r]:r=="ref"?_=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?R.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return N(t,s,i,_,null)}function N(t,e,n,i,_){var r={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:_??++te};return _==null&&c.vnode!=null&&c.vnode(r),r}function O(t){return t.children}function U(t,e){this.props=t,this.context=e}function E(t,e){if(e==null)return t.__?E(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?E(t):null}function se(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return se(t)}}function le(t){(!t.__d&&(t.__d=!0)&&K.push(t)&&!L.__r++||ne!==c.debounceRendering)&&((ne=c.debounceRendering)||oe)(L)}function L(){var t,e,n,i,_,r,s,l,a;for(K.sort(q);t=K.shift();)t.__d&&(e=K.length,i=void 0,_=void 0,r=void 0,l=(s=(n=t).__v).__e,(a=n.__P)&&(i=[],_=[],(r=b({},s)).__v=s.__v+1,z(a,s,r,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[l]:null,i,l??E(s),s.__h,_),me(i,s,_),s.__e!=l&&se(s)),K.length>e&&K.sort(q));L.__r=0}function ae(t,e,n,i,_,r,s,l,a,d,m){var o,p,f,u,g,D,v,S,V,P=0,y=i&&i.__k||ie,T=y.length,I=T,M=e.length;for(n.__k=[],o=0;o<M;o++)(u=n.__k[o]=(u=e[o])==null||typeof u=="boolean"||typeof u=="function"?null:typeof u=="string"||typeof u=="number"||typeof u=="bigint"?N(null,u,null,null,u):Y(u)?N(O,{children:u},null,null,null):u.__b>0?N(u.type,u.props,u.key,u.ref?u.ref:null,u.__v):u)!=null?(u.__=n,u.__b=n.__b+1,(S=Me(u,y,v=o+P,I))===-1?f=k:(f=y[S]||k,y[S]=void 0,I--),z(t,u,f,_,r,s,l,a,d,m),g=u.__e,(p=u.ref)&&f.ref!=p&&(f.ref&&G(f.ref,null,u),m.push(p,u.__c||g,u)),g!=null&&(D==null&&(D=g),(V=f===k||f.__v===null)?S==-1&&P--:S!==v&&(S===v+1?P++:S>v?I>M-v?P+=S-v:P--:P=S<v&&S==v-1?S-v:0),v=o+P,typeof u.type!="function"||S===v&&f.__k!==u.__k?typeof u.type=="function"||S===v&&!V?u.__d!==void 0?(a=u.__d,u.__d=void 0):a=g.nextSibling:a=ce(t,g,a):a=ue(u,a,t),typeof n.type=="function"&&(n.__d=a))):(f=y[o])&&f.key==null&&f.__e&&(f.__e==a&&(a=E(f)),J(f,f,!1),y[o]=null);for(n.__e=D,o=T;o--;)y[o]!=null&&(typeof n.type=="function"&&y[o].__e!=null&&y[o].__e==n.__d&&(n.__d=y[o].__e.nextSibling),J(y[o],y[o]))}function ue(t,e,n){for(var i,_=t.__k,r=0;_&&r<_.length;r++)(i=_[r])&&(i.__=t,e=typeof i.type=="function"?ue(i,e,n):ce(n,i.__e,e));return e}function ce(t,e,n){return n==null||n.parentNode!==t?t.insertBefore(e,null):e==n&&e.parentNode!=null||t.insertBefore(e,n),e.nextSibling}function Me(t,e,n,i){var _=t.key,r=t.type,s=n-1,l=n+1,a=e[n];if(a===null||a&&_==a.key&&r===a.type)return n;if(i>(a!=null?1:0))for(;s>=0||l<e.length;){if(s>=0){if((a=e[s])&&_==a.key&&r===a.type)return s;s--}if(l<e.length){if((a=e[l])&&_==a.key&&r===a.type)return l;l++}}return-1}function Oe(t,e,n,i,_){var r;for(r in n)r==="children"||r==="key"||r in e||W(t,r,null,n[r],i);for(r in e)_&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||n[r]===e[r]||W(t,r,e[r],n[r],i)}function fe(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||De.test(e)?n:n+"px"}function W(t,e,n,i,_){var r;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof i=="string"&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||fe(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||fe(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=n,n?i||t.addEventListener(e,r?pe:ge,r):t.removeEventListener(e,r?pe:ge,r);else if(e!=="dangerouslySetInnerHTML"){if(_)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,n))}}function ge(t){return this.l[t.type+!1](c.event?c.event(t):t)}function pe(t){return this.l[t.type+!0](c.event?c.event(t):t)}function z(t,e,n,i,_,r,s,l,a,d){var m,o,p,f,u,g,D,v,S,V,P,y,T,I,M,x=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(a=n.__h,l=e.__e=n.__e,e.__h=null,r=[l]),(m=c.__b)&&m(e);e:if(typeof x=="function")try{if(v=e.props,S=(m=x.contextType)&&i[m.__c],V=m?S?S.props.value:m.__:i,n.__c?D=(o=e.__c=n.__c).__=o.__E:("prototype"in x&&x.prototype.render?e.__c=o=new x(v,V):(e.__c=o=new U(v,V),o.constructor=x,o.render=$e),S&&S.sub(o),o.props=v,o.state||(o.state={}),o.context=V,o.__n=i,p=o.__d=!0,o.__h=[],o._sb=[]),o.__s==null&&(o.__s=o.state),x.getDerivedStateFromProps!=null&&(o.__s==o.state&&(o.__s=b({},o.__s)),b(o.__s,x.getDerivedStateFromProps(v,o.__s))),f=o.props,u=o.state,o.__v=e,p)x.getDerivedStateFromProps==null&&o.componentWillMount!=null&&o.componentWillMount(),o.componentDidMount!=null&&o.__h.push(o.componentDidMount);else{if(x.getDerivedStateFromProps==null&&v!==f&&o.componentWillReceiveProps!=null&&o.componentWillReceiveProps(v,V),!o.__e&&(o.shouldComponentUpdate!=null&&o.shouldComponentUpdate(v,o.__s,V)===!1||e.__v===n.__v)){for(e.__v!==n.__v&&(o.props=v,o.state=o.__s,o.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(Q){Q&&(Q.__=e)}),P=0;P<o._sb.length;P++)o.__h.push(o._sb[P]);o._sb=[],o.__h.length&&s.push(o);break e}o.componentWillUpdate!=null&&o.componentWillUpdate(v,o.__s,V),o.componentDidUpdate!=null&&o.__h.push(function(){o.componentDidUpdate(f,u,g)})}if(o.context=V,o.props=v,o.__P=t,o.__e=!1,y=c.__r,T=0,"prototype"in x&&x.prototype.render){for(o.state=o.__s,o.__d=!1,y&&y(e),m=o.render(o.props,o.state,o.context),I=0;I<o._sb.length;I++)o.__h.push(o._sb[I]);o._sb=[]}else do o.__d=!1,y&&y(e),m=o.render(o.props,o.state,o.context),o.state=o.__s;while(o.__d&&++T<25);o.state=o.__s,o.getChildContext!=null&&(i=b(b({},i),o.getChildContext())),p||o.getSnapshotBeforeUpdate==null||(g=o.getSnapshotBeforeUpdate(f,u)),ae(t,Y(M=m!=null&&m.type===O&&m.key==null?m.props.children:m)?M:[M],e,n,i,_,r,s,l,a,d),o.base=e.__e,e.__h=null,o.__h.length&&s.push(o),D&&(o.__E=o.__=null)}catch(Q){e.__v=null,(a||r!=null)&&(e.__e=l,e.__h=!!a,r[r.indexOf(l)]=null),c.__e(Q,e,n)}else r==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=Ee(n.__e,e,n,i,_,r,s,a,d);(m=c.diffed)&&m(e)}function me(t,e,n){for(var i=0;i<n.length;i++)G(n[i],n[++i],n[++i]);c.__c&&c.__c(e,t),t.some(function(_){try{t=_.__h,_.__h=[],t.some(function(r){r.call(_)})}catch(r){c.__e(r,_.__v)}})}function Ee(t,e,n,i,_,r,s,l,a){var d,m,o,p=n.props,f=e.props,u=e.type,g=0;if(u==="svg"&&(_=!0),r!=null){for(;g<r.length;g++)if((d=r[g])&&"setAttribute"in d==!!u&&(u?d.localName===u:d.nodeType===3)){t=d,r[g]=null;break}}if(t==null){if(u===null)return document.createTextNode(f);t=_?document.createElementNS("http://www.w3.org/2000/svg",u):document.createElement(u,f.is&&f),r=null,l=!1}if(u===null)p===f||l&&t.data===f||(t.data=f);else{if(r=r&&R.call(t.childNodes),m=(p=n.props||k).dangerouslySetInnerHTML,o=f.dangerouslySetInnerHTML,!l){if(r!=null)for(p={},g=0;g<t.attributes.length;g++)p[t.attributes[g].name]=t.attributes[g].value;(o||m)&&(o&&(m&&o.__html==m.__html||o.__html===t.innerHTML)||(t.innerHTML=o&&o.__html||""))}if(Oe(t,f,p,_,l),o)e.__k=[];else if(ae(t,Y(g=e.props.children)?g:[g],e,n,i,_&&u!=="foreignObject",r,s,r?r[0]:n.__k&&E(n,0),l,a),r!=null)for(g=r.length;g--;)r[g]!=null&&re(r[g]);l||("value"in f&&(g=f.value)!==void 0&&(g!==t.value||u==="progress"&&!g||u==="option"&&g!==p.value)&&W(t,"value",g,p.value,!1),"checked"in f&&(g=f.checked)!==void 0&&g!==t.checked&&W(t,"checked",g,p.checked,!1))}return t}function G(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(i){c.__e(i,n)}}function J(t,e,n){var i,_;if(c.unmount&&c.unmount(t),(i=t.ref)&&(i.current&&i.current!==t.__e||G(i,null,e)),(i=t.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(r){c.__e(r,e)}i.base=i.__P=null,t.__c=void 0}if(i=t.__k)for(_=0;_<i.length;_++)i[_]&&J(i[_],e,n||typeof t.type!="function");n||t.__e==null||re(t.__e),t.__=t.__e=t.__d=void 0}function $e(t,e,n){return this.constructor(t,n)}function He(t,e,n){var i,_,r,s;c.__&&c.__(t,e),_=(i=typeof n=="function")?null:n&&n.__k||e.__k,r=[],s=[],z(e,t=(!i&&n||e).__k=_e(O,null,[t]),_||k,k,e.ownerSVGElement!==void 0,!i&&n?[n]:_?null:e.firstChild?R.call(e.childNodes):null,r,!i&&n?n:_?_.__e:e.firstChild,i,s),me(r,t,s)}R=ie.slice,c={__e:function(t,e,n,i){for(var _,r,s;e=e.__;)if((_=e.__c)&&!_.__)try{if((r=_.constructor)&&r.getDerivedStateFromError!=null&&(_.setState(r.getDerivedStateFromError(t)),s=_.__d),_.componentDidCatch!=null&&(_.componentDidCatch(t,i||{}),s=_.__d),s)return _.__E=_}catch(l){t=l}throw t}},te=0,Ce=function(t){return t!=null&&t.constructor===void 0},U.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=b({},this.state),typeof t=="function"&&(t=t(b({},n),this.props)),t&&b(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),le(this))},U.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),le(this))},U.prototype.render=O,K=[],oe=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,q=function(t,e){return t.__v.__b-e.__v.__b},L.__r=0,ke=0;function C(t){throw new Error(`invalid path: ${t}`)}function Te(t){const{stewBuildId:e}=t,n=`/stew_${e}`;return{stewResourcesDirectoryPath:n,indexHtml:"/index.html",appScript:`/app.${e}.js`,appCss:`/app.${e}.css`,configPath:`${n}/stew.config.json`,modulesDirectoryPath:`${n}/modules`,datasetsDirectoryPath:`${n}/datasets`,stylesDirectoryPath:`${n}/styles`,viewsDirectoryPath:`${n}/views`}}var $,w,X,de,j=0,he=[],A=[],ve=c.__b,we=c.__r,Se=c.diffed,ye=c.__c,Pe=c.unmount;function Z(t,e){c.__h&&c.__h(w,t,j||e),j=0;var n=w.__H||(w.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({__V:A}),n.__[t]}function Re(t){return j=1,Ne(Ie,t)}function Ne(t,e,n){var i=Z($++,2);if(i.t=t,!i.__c&&(i.__=[n?n(e):Ie(void 0,e),function(l){var a=i.__N?i.__N[0]:i.__[0],d=i.t(a,l);a!==d&&(i.__N=[d,i.__[1]],i.__c.setState({}))}],i.__c=w,!w.u)){var _=function(l,a,d){if(!i.__c.__H)return!0;var m=i.__c.__H.__.filter(function(p){return p.__c});if(m.every(function(p){return!p.__N}))return!r||r.call(this,l,a,d);var o=!1;return m.forEach(function(p){if(p.__N){var f=p.__[0];p.__=p.__N,p.__N=void 0,f!==p.__[0]&&(o=!0)}}),!(!o&&i.__c.props===l)&&(!r||r.call(this,l,a,d))};w.u=!0;var r=w.shouldComponentUpdate,s=w.componentWillUpdate;w.componentWillUpdate=function(l,a,d){if(this.__e){var m=r;r=void 0,_(l,a,d),r=m}s&&s.call(this,l,a,d)},w.shouldComponentUpdate=_}return i.__N||i.__}function xe(t,e){var n=Z($++,3);!c.__s&&be(n.__H,e)&&(n.__=t,n.i=e,w.__H.__h.push(n))}function Ue(t){return j=5,F(function(){return{current:t}},[])}function F(t,e){var n=Z($++,7);return be(n.__H,e)?(n.__V=t(),n.i=e,n.__h=t,n.__V):n.__}function Le(){for(var t;t=he.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(B),t.__H.__h.forEach(ee),t.__H.__h=[]}catch(e){t.__H.__h=[],c.__e(e,t.__v)}}c.__b=function(t){w=null,ve&&ve(t)},c.__r=function(t){we&&we(t),$=0;var e=(w=t.__c).__H;e&&(X===w?(e.__h=[],w.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=A,n.__N=n.i=void 0})):(e.__h.forEach(B),e.__h.forEach(ee),e.__h=[],$=0)),X=w},c.diffed=function(t){Se&&Se(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(he.push(e)!==1&&de===c.requestAnimationFrame||((de=c.requestAnimationFrame)||We)(Le)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==A&&(n.__=n.__V),n.i=void 0,n.__V=A})),X=w=null},c.__c=function(t,e){e.some(function(n){try{n.__h.forEach(B),n.__h=n.__h.filter(function(i){return!i.__||ee(i)})}catch(i){e.some(function(_){_.__h&&(_.__h=[])}),e=[],c.__e(i,n.__v)}}),ye&&ye(t,e)},c.unmount=function(t){Pe&&Pe(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(i){try{B(i)}catch(_){e=_}}),n.__H=void 0,e&&c.__e(e,n.__v))};var Ve=typeof requestAnimationFrame=="function";function We(t){var e,n=function(){clearTimeout(i),Ve&&cancelAnimationFrame(e),setTimeout(t)},i=setTimeout(n,100);Ve&&(e=requestAnimationFrame(n))}function B(t){var e=w,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),w=e}function ee(t){var e=w;t.__c=t.__(),w=e}function be(t,e){return!t||t.length!==e.length||e.some(function(n,i){return n!==t[i]})}function Ie(t,e){return typeof e=="function"?e(t):e}function H(t){const{someMap:e,itemSearchKey:n,itemTargetValue:i}=t;return Object.values(e).find(_=>_[n]===i)}function Ke(t){const{stewResourceMap:e,someSegmentKey:n}=t;return Promise.all([fetch(`${e.datasetsDirectoryPath}/${n}.json`).then(i=>i.json()),fetch(`${e.modulesDirectoryPath}/${n}.js`).then(i=>i.text()).then(i=>new Function(`${i}return __moduleIifeResult.default`)()),fetch(`${e.viewsDirectoryPath}/${n}.json`).then(i=>i.json()),fetch(`${e.stylesDirectoryPath}/${n}.css`).then(i=>i.text())])}function je(t){const{initialSegmentViewState:e,stewConfig:n,stewResourceMap:i}=t,[_,r]=Re(e),{stewSegmentMutations:s}=Ae({stewConfig:n,setSegmentViewState:r}),{stewSegmentData:l}=Be({stewConfig:n,stewSegmentState:_,viewPageItemSize:6});return Fe({stewResourceMap:i,stewSegmentState:_,updateSegmentComponents:s.updateSegmentComponents}),Qe({stewSegmentState:_}),{stewSegmentState:_,stewSegmentMutations:s,stewSegmentData:l}}function Ae(t){const{stewConfig:e,setSegmentViewState:n}=t;return{stewSegmentMutations:F(()=>({selectStewSegment:_=>{const r=H({itemTargetValue:0,itemSearchKey:"viewIndex",someMap:e.stewSegments[_].segmentViews})??C("defaultSegmentViewConfig"),s=H({itemTargetValue:0,itemSearchKey:"sortOptionIndex",someMap:e.stewSegments[_].segmentSortOptions})??C("defaultSegmentSortOptionConfig");n({viewPageIndex:0,viewSearchQuery:"",segmentStatus:"loadingSegment",segmentViewKey:r.viewKey,segmentSortOptionKey:s.sortOptionKey,segmentKey:_})},updateSegmentComponents:([_,r,s,l])=>{n(a=>({...a,segmentStatus:"segmentLoaded",segmentDataset:_,segmentModule:r,segmentViewsMap:s,segmentCss:l}))},selectSegmentView:_=>{n(r=>({...r,viewPageIndex:0,segmentViewKey:_}))},selectSegmentSortOption:_=>{n(r=>({...r,viewPageIndex:0,segmentSortOptionKey:_}))},updateSegmentViewSearch:_=>{n(r=>({...r,viewPageIndex:0,viewSearchQuery:_}))},clearSegmentViewSearch:()=>{n(_=>({..._,viewPageIndex:0,viewSearchQuery:""}))},gotoPreviousViewPage:()=>{n(_=>({..._,viewPageIndex:_.viewPageIndex-1}))},gotoNextViewPage:()=>{n(_=>({..._,viewPageIndex:_.viewPageIndex-1}))}}),[e,n])}}function Fe(t){const{stewSegmentState:e,stewResourceMap:n,updateSegmentComponents:i}=t,_=Ue(0);xe(()=>{if(e.segmentStatus==="loadingSegment"){_.current+=1;const r=_.current;Ke({stewResourceMap:n,someSegmentKey:e.segmentKey}).then(s=>{r===_.current&&i(s)})}},[e.segmentKey])}function Be(t){const{stewSegmentState:e,stewConfig:n,viewPageItemSize:i}=t,{searchedAndSortedViewItems:_}=F(()=>({searchedAndSortedViewItems:e.segmentStatus==="segmentLoaded"?e.segmentViewsMap[e.segmentViewKey].reduce((l,a)=>{const d=e.segmentDataset[a];return d.__segment_item_search_space.includes(e.viewSearchQuery)&&l.push(d),l},[]).sort(e.segmentModule.segmentSortOptions[n.stewSegments[e.segmentKey].segmentSortOptions[e.segmentSortOptionKey].sortOptionIndex].getSortOrder):[]}),[e.segmentKey,e.segmentStatus,e.segmentViewKey,e.viewSearchQuery,e.segmentSortOptionKey]),{viewPageItems:r,viewPagesCount:s}=F(()=>{const l=Math.ceil(_.length/i)||1,a=i*e.viewPageIndex,d=_.slice(a,a+i);return{viewPagesCount:l,viewPageItems:d}},[_,e.viewPageIndex]);return{stewSegmentData:{viewPageItems:r,viewPagesCount:s}}}function Qe(t){const{stewSegmentState:e}=t;xe(()=>{const n=new URLSearchParams;n.set("view",`${e.segmentViewKey}`),n.set("sort",`${e.segmentSortOptionKey}`),e.viewSearchQuery.length>0&&n.set("search",e.viewSearchQuery),window.history.replaceState(null,"noop",`/${e.segmentKey}?${n.toString()}`)},[e.segmentKey,e.segmentViewKey,e.segmentSortOptionKey,e.viewSearchQuery])}function qe(t){const{stewConfig:e,stewResourceMap:n,initialSegmentViewState:i}=t,{stewSegmentState:_,stewSegmentData:r,stewSegmentMutations:s}=je({stewConfig:e,stewResourceMap:n,initialSegmentViewState:i});return h(Ye,{stewConfig:e,stewSegmentState:_,stewSegmentData:r,selectStewSegment:s.selectStewSegment,selectSegmentView:s.selectSegmentView,selectSegmentSortOption:s.selectSegmentSortOption,updateSegmentViewSearch:s.updateSegmentViewSearch,clearSegmentViewSearch:s.clearSegmentViewSearch,gotoPreviousViewPage:s.gotoPreviousViewPage,gotoNextViewPage:s.gotoNextViewPage})}function Ye(t){const{stewConfig:e,stewSegmentState:n,selectStewSegment:i,selectSegmentView:_,selectSegmentSortOption:r,updateSegmentViewSearch:s,clearSegmentViewSearch:l,gotoPreviousViewPage:a,gotoNextViewPage:d,stewSegmentData:m}=t;return h("div",null,h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(e.stewSegments).sort((o,p)=>o.segmentIndex-p.segmentIndex).map(o=>h("div",{style:{padding:8,color:"purple",cursor:"pointer",fontWeight:700,textDecoration:n.segmentKey===o.segmentKey?"underline":"none"},onClick:()=>{n.segmentKey!==o.segmentKey&&i(o.segmentKey)}},o.segmentLabel))),h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(e.stewSegments[n.segmentKey].segmentViews).sort((o,p)=>o.viewIndex-p.viewIndex).map(o=>h("div",{style:{padding:8,color:"blue",cursor:"pointer",fontWeight:700,textDecoration:n.segmentViewKey===o.viewKey?"underline":"none"},onClick:()=>{n.segmentViewKey!==o.viewKey&&_(o.viewKey)}},o.viewLabel))),h("div",{style:{display:"flex",flexDirection:"row"}},Object.values(e.stewSegments[n.segmentKey].segmentSortOptions).sort((o,p)=>o.sortOptionIndex-p.sortOptionIndex).map(o=>h("div",{style:{padding:8,color:"green",cursor:"pointer",fontWeight:700,textDecoration:n.segmentSortOptionKey===o.sortOptionKey?"underline":"none"},onClick:()=>{n.segmentSortOptionKey!==o.sortOptionKey&&r(o.sortOptionKey)}},o.sortOptionLabel))),h("div",{style:{display:"flex",flexDirection:"row",padding:8}},h("input",{value:n.viewSearchQuery,onInput:o=>{s(o.currentTarget.value)}}),h("div",{style:{color:"red",cursor:"pointer",fontWeight:700},onClick:()=>{l()}},"clear")),h("div",{style:{display:"flex",flexDirection:"row"}},h("div",{style:{padding:8,color:"orange",cursor:"pointer",fontWeight:700},onClick:()=>{n.viewPageIndex>0&&a()}},"prev"),h("div",{style:{padding:8,color:"orange",cursor:"pointer",fontWeight:700},onClick:()=>{n.viewPageIndex<m.viewPagesCount-1&&d()}},"next"),h("div",{style:{padding:8,color:"black",cursor:"pointer",fontWeight:700,fontStyle:"italic"}},`${n.viewPageIndex+1} / ${m.viewPagesCount}`)),n.segmentStatus==="segmentLoaded"?h(O,null,h("div",{style:{display:"flex",flexDirection:"column",padding:8,paddingTop:12}},m.viewPageItems.map(o=>h("div",{style:{paddingBottom:8}},h(n.segmentModule.SegmentItemDisplay,{someSegmentItem:o})))),h("style",null,n.segmentCss)):null)}function ze(t){const{stewConfig:e,stewResourceMap:n,initialSegmentViewState:i}=t;return h(qe,{stewConfig:e,stewResourceMap:n,initialSegmentViewState:i})}window.h=_e,Ge();async function Ge(){const{stewConfig:t,stewResourceMap:e,initialSegmentViewState:n}=await Je();He(h(ze,{stewConfig:t,stewResourceMap:e,initialSegmentViewState:n}),document.getElementById("appContainer")??C("hydrate.appContainer")),document.getElementById("splashPageStyle")?.remove(),console.info(t)}async function Je(){const t=new Promise(g=>{setTimeout(()=>{g()},700)}),e=document.getElementById("appScript")?.dataset.stew_build_id??C("loadStewResources.stewBuildId"),n=Te({stewBuildId:e}),i=await fetch(n.configPath).then(g=>g.json()),[_,r]=window.location.pathname.split("/"),s=new URLSearchParams(window.location.search),l=i.stewSegments[r]??H({itemTargetValue:0,itemSearchKey:"segmentIndex",someMap:i.stewSegments})??C("initialSegmentConfig"),a=Ke({stewResourceMap:n,someSegmentKey:l.segmentKey}),d=l.segmentViews[s.get("view")??"__EMPTY_VIEW_KEY__"]??H({itemTargetValue:0,itemSearchKey:"viewIndex",someMap:l.segmentViews})??C("initialSegmentViewConfig"),m=l.segmentSortOptions[s.get("sort")??"__EMPTY_SORT_KEY__"]??H({itemTargetValue:0,itemSearchKey:"sortOptionIndex",someMap:l.segmentSortOptions})??C("initialSegmentSortOptionConfig"),[[o,p,f,u]]=await Promise.all([a,t]);return{stewResourceMap:n,stewConfig:i,initialSegmentViewState:{viewPageIndex:0,segmentStatus:"segmentLoaded",segmentDataset:o,segmentModule:p,segmentViewsMap:f,segmentCss:u,segmentKey:l.segmentKey,segmentViewKey:d.viewKey,segmentSortOptionKey:m.sortOptionKey,viewSearchQuery:s.get("search")??""}}}})();
