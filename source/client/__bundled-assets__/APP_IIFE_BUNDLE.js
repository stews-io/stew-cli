var __moduleIifeResult=(()=>{var I,a,Y,Se,x,Z,ee,V,Pe,H={},te=[],Ce=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,j=Array.isArray;function C(t,e){for(var _ in e)t[_]=e[_];return t}function _e(t){var e=t.parentNode;e&&e.removeChild(t)}function q(t,e,_){var o,l,r,s={};for(r in e)r=="key"?o=e[r]:r=="ref"?l=e[r]:s[r]=e[r];if(arguments.length>2&&(s.children=arguments.length>3?I.call(arguments,2):_),typeof t=="function"&&t.defaultProps!=null)for(r in t.defaultProps)s[r]===void 0&&(s[r]=t.defaultProps[r]);return R(t,s,o,l,null)}function R(t,e,_,o,l){var r={type:t,props:e,key:_,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:l??++Y};return l==null&&a.vnode!=null&&a.vnode(r),r}function $(t){return t.children}function A(t,e){this.props=t,this.context=e}function M(t,e){if(e==null)return t.__?M(t.__,t.__.__k.indexOf(t)+1):null;for(var _;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null)return _.__e;return typeof t.type=="function"?M(t):null}function ne(t){var e,_;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((_=t.__k[e])!=null&&_.__e!=null){t.__e=t.__c.base=_.__e;break}return ne(t)}}function oe(t){(!t.__d&&(t.__d=!0)&&x.push(t)&&!T.__r++||Z!==a.debounceRendering)&&((Z=a.debounceRendering)||ee)(T)}function T(){var t,e,_,o,l,r,s,u,c;for(x.sort(V);t=x.shift();)t.__d&&(e=x.length,o=void 0,l=void 0,r=void 0,u=(s=(_=t).__v).__e,(c=_.__P)&&(o=[],l=[],(r=C({},s)).__v=s.__v+1,O(c,s,r,_.__n,c.ownerSVGElement!==void 0,s.__h!=null?[u]:null,o,u??M(s),s.__h,l),ae(o,s,l),s.__e!=u&&ne(s)),x.length>e&&x.sort(V));T.__r=0}function re(t,e,_,o,l,r,s,u,c,g,d){var n,v,f,i,p,D,m,w,P,k=0,b=o&&o.__k||te,U=b.length,E=U,N=e.length;for(_.__k=[],n=0;n<N;n++)(i=_.__k[n]=(i=e[n])==null||typeof i=="boolean"||typeof i=="function"?null:typeof i=="string"||typeof i=="number"||typeof i=="bigint"?R(null,i,null,null,i):j(i)?R($,{children:i},null,null,null):i.__b>0?R(i.type,i.props,i.key,i.ref?i.ref:null,i.__v):i)!=null?(i.__=_,i.__b=_.__b+1,(w=Ee(i,b,m=n+k,E))===-1?f=H:(f=b[w]||H,b[w]=void 0,E--),O(t,i,f,l,r,s,u,c,g,d),p=i.__e,(v=i.ref)&&f.ref!=v&&(f.ref&&G(f.ref,null,i),d.push(v,i.__c||p,i)),p!=null&&(D==null&&(D=p),(P=f===H||f.__v===null)?w==-1&&k--:w!==m&&(w===m+1?k++:w>m?E>N-m?k+=w-m:k--:k=w<m&&w==m-1?w-m:0),m=n+k,typeof i.type!="function"||w===m&&f.__k!==i.__k?typeof i.type=="function"||w===m&&!P?i.__d!==void 0?(c=i.__d,i.__d=void 0):c=p.nextSibling:c=ie(t,p,c):c=le(i,c,t),typeof _.type=="function"&&(_.__d=c))):(f=b[n])&&f.key==null&&f.__e&&(f.__e==c&&(c=M(f)),z(f,f,!1),b[n]=null);for(_.__e=D,n=U;n--;)b[n]!=null&&(typeof _.type=="function"&&b[n].__e!=null&&b[n].__e==_.__d&&(_.__d=b[n].__e.nextSibling),z(b[n],b[n]))}function le(t,e,_){for(var o,l=t.__k,r=0;l&&r<l.length;r++)(o=l[r])&&(o.__=t,e=typeof o.type=="function"?le(o,e,_):ie(_,o.__e,e));return e}function ie(t,e,_){return _==null||_.parentNode!==t?t.insertBefore(e,null):e==_&&e.parentNode!=null||t.insertBefore(e,_),e.nextSibling}function Ee(t,e,_,o){var l=t.key,r=t.type,s=_-1,u=_+1,c=e[_];if(c===null||c&&l==c.key&&r===c.type)return _;if(o>(c!=null?1:0))for(;s>=0||u<e.length;){if(s>=0){if((c=e[s])&&l==c.key&&r===c.type)return s;s--}if(u<e.length){if((c=e[u])&&l==c.key&&r===c.type)return u;u++}}return-1}function xe(t,e,_,o,l){var r;for(r in _)r==="children"||r==="key"||r in e||F(t,r,null,_[r],o);for(r in e)l&&typeof e[r]!="function"||r==="children"||r==="key"||r==="value"||r==="checked"||_[r]===e[r]||F(t,r,e[r],_[r],o)}function se(t,e,_){e[0]==="-"?t.setProperty(e,_??""):t[e]=_==null?"":typeof _!="number"||Ce.test(e)?_:_+"px"}function F(t,e,_,o,l){var r;e:if(e==="style")if(typeof _=="string")t.style.cssText=_;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)_&&e in _||se(t.style,e,"");if(_)for(e in _)o&&_[e]===o[e]||se(t.style,e,_[e])}else if(e[0]==="o"&&e[1]==="n")r=e!==(e=e.replace(/(PointerCapture)$|Capture$/,"$1")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+r]=_,_?o||t.addEventListener(e,r?ce:ue,r):t.removeEventListener(e,r?ce:ue,r);else if(e!=="dangerouslySetInnerHTML"){if(l)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e!=="rowSpan"&&e!=="colSpan"&&e in t)try{t[e]=_??"";break e}catch{}typeof _=="function"||(_==null||_===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,_))}}function ue(t){return this.l[t.type+!1](a.event?a.event(t):t)}function ce(t){return this.l[t.type+!0](a.event?a.event(t):t)}function O(t,e,_,o,l,r,s,u,c,g){var d,n,v,f,i,p,D,m,w,P,k,b,U,E,N,S=e.type;if(e.constructor!==void 0)return null;_.__h!=null&&(c=_.__h,u=e.__e=_.__e,e.__h=null,r=[u]),(d=a.__b)&&d(e);e:if(typeof S=="function")try{if(m=e.props,w=(d=S.contextType)&&o[d.__c],P=d?w?w.props.value:d.__:o,_.__c?D=(n=e.__c=_.__c).__=n.__E:("prototype"in S&&S.prototype.render?e.__c=n=new S(m,P):(e.__c=n=new A(m,P),n.constructor=S,n.render=De),w&&w.sub(n),n.props=m,n.state||(n.state={}),n.context=P,n.__n=o,v=n.__d=!0,n.__h=[],n._sb=[]),n.__s==null&&(n.__s=n.state),S.getDerivedStateFromProps!=null&&(n.__s==n.state&&(n.__s=C({},n.__s)),C(n.__s,S.getDerivedStateFromProps(m,n.__s))),f=n.props,i=n.state,n.__v=e,v)S.getDerivedStateFromProps==null&&n.componentWillMount!=null&&n.componentWillMount(),n.componentDidMount!=null&&n.__h.push(n.componentDidMount);else{if(S.getDerivedStateFromProps==null&&m!==f&&n.componentWillReceiveProps!=null&&n.componentWillReceiveProps(m,P),!n.__e&&(n.shouldComponentUpdate!=null&&n.shouldComponentUpdate(m,n.__s,P)===!1||e.__v===_.__v)){for(e.__v!==_.__v&&(n.props=m,n.state=n.__s,n.__d=!1),e.__e=_.__e,e.__k=_.__k,e.__k.forEach(function(L){L&&(L.__=e)}),k=0;k<n._sb.length;k++)n.__h.push(n._sb[k]);n._sb=[],n.__h.length&&s.push(n);break e}n.componentWillUpdate!=null&&n.componentWillUpdate(m,n.__s,P),n.componentDidUpdate!=null&&n.__h.push(function(){n.componentDidUpdate(f,i,p)})}if(n.context=P,n.props=m,n.__P=t,n.__e=!1,b=a.__r,U=0,"prototype"in S&&S.prototype.render){for(n.state=n.__s,n.__d=!1,b&&b(e),d=n.render(n.props,n.state,n.context),E=0;E<n._sb.length;E++)n.__h.push(n._sb[E]);n._sb=[]}else do n.__d=!1,b&&b(e),d=n.render(n.props,n.state,n.context),n.state=n.__s;while(n.__d&&++U<25);n.state=n.__s,n.getChildContext!=null&&(o=C(C({},o),n.getChildContext())),v||n.getSnapshotBeforeUpdate==null||(p=n.getSnapshotBeforeUpdate(f,i)),re(t,j(N=d!=null&&d.type===$&&d.key==null?d.props.children:d)?N:[N],e,_,o,l,r,s,u,c,g),n.base=e.__e,e.__h=null,n.__h.length&&s.push(n),D&&(n.__E=n.__=null)}catch(L){e.__v=null,(c||r!=null)&&(e.__e=u,e.__h=!!c,r[r.indexOf(u)]=null),a.__e(L,e,_)}else r==null&&e.__v===_.__v?(e.__k=_.__k,e.__e=_.__e):e.__e=He(_.__e,e,_,o,l,r,s,c,g);(d=a.diffed)&&d(e)}function ae(t,e,_){for(var o=0;o<_.length;o++)G(_[o],_[++o],_[++o]);a.__c&&a.__c(e,t),t.some(function(l){try{t=l.__h,l.__h=[],t.some(function(r){r.call(l)})}catch(r){a.__e(r,l.__v)}})}function He(t,e,_,o,l,r,s,u,c){var g,d,n,v=_.props,f=e.props,i=e.type,p=0;if(i==="svg"&&(l=!0),r!=null){for(;p<r.length;p++)if((g=r[p])&&"setAttribute"in g==!!i&&(i?g.localName===i:g.nodeType===3)){t=g,r[p]=null;break}}if(t==null){if(i===null)return document.createTextNode(f);t=l?document.createElementNS("http://www.w3.org/2000/svg",i):document.createElement(i,f.is&&f),r=null,u=!1}if(i===null)v===f||u&&t.data===f||(t.data=f);else{if(r=r&&I.call(t.childNodes),d=(v=_.props||H).dangerouslySetInnerHTML,n=f.dangerouslySetInnerHTML,!u){if(r!=null)for(v={},p=0;p<t.attributes.length;p++)v[t.attributes[p].name]=t.attributes[p].value;(n||d)&&(n&&(d&&n.__html==d.__html||n.__html===t.innerHTML)||(t.innerHTML=n&&n.__html||""))}if(xe(t,f,v,l,u),n)e.__k=[];else if(re(t,j(p=e.props.children)?p:[p],e,_,o,l&&i!=="foreignObject",r,s,r?r[0]:_.__k&&M(_,0),u,c),r!=null)for(p=r.length;p--;)r[p]!=null&&_e(r[p]);u||("value"in f&&(p=f.value)!==void 0&&(p!==t.value||i==="progress"&&!p||i==="option"&&p!==v.value)&&F(t,"value",p,v.value,!1),"checked"in f&&(p=f.checked)!==void 0&&p!==t.checked&&F(t,"checked",p,v.checked,!1))}return t}function G(t,e,_){try{typeof t=="function"?t(e):t.current=e}catch(o){a.__e(o,_)}}function z(t,e,_){var o,l;if(a.unmount&&a.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||G(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(r){a.__e(r,e)}o.base=o.__P=null,t.__c=void 0}if(o=t.__k)for(l=0;l<o.length;l++)o[l]&&z(o[l],e,_||typeof t.type!="function");_||t.__e==null||_e(t.__e),t.__=t.__e=t.__d=void 0}function De(t,e,_){return this.constructor(t,_)}function Ne(t,e,_){var o,l,r,s;a.__&&a.__(t,e),l=(o=typeof _=="function")?null:_&&_.__k||e.__k,r=[],s=[],O(e,t=(!o&&_||e).__k=q($,null,[t]),l||H,H,e.ownerSVGElement!==void 0,!o&&_?[_]:l?null:e.firstChild?I.call(e.childNodes):null,r,!o&&_?_:l?l.__e:e.firstChild,o,s),ae(r,t,s)}I=te.slice,a={__e:function(t,e,_,o){for(var l,r,s;e=e.__;)if((l=e.__c)&&!l.__)try{if((r=l.constructor)&&r.getDerivedStateFromError!=null&&(l.setState(r.getDerivedStateFromError(t)),s=l.__d),l.componentDidCatch!=null&&(l.componentDidCatch(t,o||{}),s=l.__d),s)return l.__E=l}catch(u){t=u}throw t}},Y=0,Se=function(t){return t!=null&&t.constructor===void 0},A.prototype.setState=function(t,e){var _;_=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=C({},this.state),typeof t=="function"&&(t=t(C({},_),this.props)),t&&C(_,t),t!=null&&this.__v&&(e&&this._sb.push(e),oe(this))},A.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),oe(this))},A.prototype.render=$,x=[],ee=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,V=function(t,e){return t.__v.__b-e.__v.__b},T.__r=0,Pe=0;function $e(t){const{stewBuildId:e}=t,_=`/stew_${e}`;return{stewResourcesDirectoryPath:_,configPath:`${_}/stew.config.json`,modulesDirectoryPath:`${_}/modules`,datasetsDirectoryPath:`${_}/datasets`,stylesDirectoryPath:`${_}/styles`}}function fe(t){throw new Error(`invalid path: ${t}`)}var K,y,J,pe,Q=0,de=[],W=[],he=a.__b,ve=a.__r,me=a.diffed,ye=a.__c,ge=a.unmount;function we(t,e){a.__h&&a.__h(y,t,Q||e),Q=0;var _=y.__H||(y.__H={__:[],__h:[]});return t>=_.__.length&&_.__.push({__V:W}),_.__[t]}function Me(t){return Q=1,Ue(ke,t)}function Ue(t,e,_){var o=we(K++,2);if(o.t=t,!o.__c&&(o.__=[_?_(e):ke(void 0,e),function(u){var c=o.__N?o.__N[0]:o.__[0],g=o.t(c,u);c!==g&&(o.__N=[g,o.__[1]],o.__c.setState({}))}],o.__c=y,!y.u)){var l=function(u,c,g){if(!o.__c.__H)return!0;var d=o.__c.__H.__.filter(function(v){return v.__c});if(d.every(function(v){return!v.__N}))return!r||r.call(this,u,c,g);var n=!1;return d.forEach(function(v){if(v.__N){var f=v.__[0];v.__=v.__N,v.__N=void 0,f!==v.__[0]&&(n=!0)}}),!(!n&&o.__c.props===u)&&(!r||r.call(this,u,c,g))};y.u=!0;var r=y.shouldComponentUpdate,s=y.componentWillUpdate;y.componentWillUpdate=function(u,c,g){if(this.__e){var d=r;r=void 0,l(u,c,g),r=d}s&&s.call(this,u,c,g)},y.shouldComponentUpdate=l}return o.__N||o.__}function Ie(t,e){var _=we(K++,3);!a.__s&&Te(_.__H,e)&&(_.__=t,_.i=e,y.__H.__h.push(_))}function Re(){for(var t;t=de.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(B),t.__H.__h.forEach(X),t.__H.__h=[]}catch(e){t.__H.__h=[],a.__e(e,t.__v)}}a.__b=function(t){y=null,he&&he(t)},a.__r=function(t){ve&&ve(t),K=0;var e=(y=t.__c).__H;e&&(J===y?(e.__h=[],y.__h=[],e.__.forEach(function(_){_.__N&&(_.__=_.__N),_.__V=W,_.__N=_.i=void 0})):(e.__h.forEach(B),e.__h.forEach(X),e.__h=[],K=0)),J=y},a.diffed=function(t){me&&me(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(de.push(e)!==1&&pe===a.requestAnimationFrame||((pe=a.requestAnimationFrame)||Ae)(Re)),e.__H.__.forEach(function(_){_.i&&(_.__H=_.i),_.__V!==W&&(_.__=_.__V),_.i=void 0,_.__V=W})),J=y=null},a.__c=function(t,e){e.some(function(_){try{_.__h.forEach(B),_.__h=_.__h.filter(function(o){return!o.__||X(o)})}catch(o){e.some(function(l){l.__h&&(l.__h=[])}),e=[],a.__e(o,_.__v)}}),ye&&ye(t,e)},a.unmount=function(t){ge&&ge(t);var e,_=t.__c;_&&_.__H&&(_.__H.__.forEach(function(o){try{B(o)}catch(l){e=l}}),_.__H=void 0,e&&a.__e(e,_.__v))};var be=typeof requestAnimationFrame=="function";function Ae(t){var e,_=function(){clearTimeout(o),be&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(_,100);be&&(e=requestAnimationFrame(_))}function B(t){var e=y,_=t.__c;typeof _=="function"&&(t.__c=void 0,_()),y=e}function X(t){var e=y;t.__c=t.__(),y=e}function Te(t,e){return!t||t.length!==e.length||e.some(function(_,o){return _!==t[o]})}function ke(t,e){return typeof e=="function"?e(t):e}function Fe(t){const{stewConfig:e,stewResourceMap:_}=t,[o,l]=Me({loadingStatus:"loading",segmentKey:e.stewSegments[0].segmentKey});return Ie(()=>{Ke({stewResourceMap:_,segmentState:o,setSegmentState:l})},[o.segmentKey]),h("div",null,h("div",{style:{display:"flex",flexDirection:"row"}},e.stewSegments.map(r=>h("div",{style:{padding:8,color:"purple",cursor:"pointer",fontWeight:700},onClick:()=>{l({loadingStatus:"loading",segmentKey:r.segmentKey})}},r.segmentKey))),h("div",{style:{padding:8,fontWeight:300}},o.segmentKey),o.loadingStatus==="success"?h($,null,h(o.segmentModule.SegmentItemDisplay,{someSegmentItem:o.segmentDataset[0]}),h("style",null,o.segmentCss)):null)}async function Ke(t){const{stewResourceMap:e,segmentState:_,setSegmentState:o}=t,[l,r,s]=await Promise.all([fetch(`${e.datasetsDirectoryPath}/${_.segmentKey}.json`).then(u=>u.json()),fetch(`${e.modulesDirectoryPath}/${_.segmentKey}.js`).then(u=>u.text()).then(u=>new Function(`${u}return __moduleIifeResult.default`)()),fetch(`${e.stylesDirectoryPath}/${_.segmentKey}.css`).then(u=>u.text())]);o({loadingStatus:"success",segmentKey:_.segmentKey,segmentDataset:l,segmentModule:r,segmentCss:s})}window.h=q,We();async function We(){const{stewConfig:t,stewResourceMap:e}=await Be();Ne(q(Fe,{stewConfig:t,stewResourceMap:e}),document.getElementById("appContainer")??fe("hydrate.appContainer")),document.getElementById("splashPageStyle")?.remove(),console.info(t)}async function Be(){const t=document.getElementById("appScript")?.dataset.stew_build_id??fe("loadApp.stewBuildId"),e=$e({stewBuildId:t}),o=await(await fetch(e.configPath)).json();return{stewResourceMap:e,stewConfig:o}}})();
